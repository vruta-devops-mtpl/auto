import{r as M,i as A,j as e,S as b,b as K,M as k,h as H,N as T,g as L,f as C,c as w,H as V,B as $,D,k as O,l as I,m as P,n as F,u as c,o as E,p as B}from"./index-cd518a67.js";import{n as _,a as U,A as G,b as g,u as W,H as Y,M as z,U as q}from"./navigation-icon.config-de1ffb4c.js";import{S as J}from"./SidePanel-01371f62.js";import{L as Q}from"./Logo-500129d9.js";import{u as X,V as Z}from"./VerticalMenuContent-ec3061ca.js";import{V as ee}from"./Views-bb2b2b8f.js";const se=h=>{const{navMode:n,onChange:r,routeKey:x,activeKeys:d,onSetActiveKey:u,userAuthority:l,mode:o,direction:m,...i}=h,{includedRouteTree:a}=X(_,x),f=()=>n===T?L:n===C?o:n,S=({key:t,title:N,menu:p,translateKey:v})=>{r({title:N,menu:p,translateKey:v}),u([t])},j=({key:t})=>{r({}),u([t])};return M.useEffect(()=>{a.type!==U&&!A(a)&&r({key:a.key,title:a.title,menu:a.subMenu,translateKey:a.translateKey})},[a.key]),e.jsxs("div",{...i,children:[e.jsx(Q,{mode:f(),type:"streamline",className:b}),e.jsx(K,{autoHide:!0,direction:m,children:e.jsx(k,{className:"px-4 pb-4",variant:n,defaultActiveKeys:d||[a.key],children:_.map(t=>e.jsx(G,{authority:t.authority,userAuthority:l,children:t.subMenu&&t.subMenu.length>0?e.jsx(k.MenuItem,{eventKey:t.key,className:"mb-2",onSelect:()=>S({key:t.key,title:t.title,menu:t.subMenu,translateKey:t.translateKey}),children:e.jsx("div",{className:"text-2xl",children:g[t.icon]})}):e.jsx(H,{to:t.path,className:"flex items-center h-full w-full",onClick:()=>j({key:t.key}),children:e.jsx(k.MenuItem,{eventKey:t.key,className:"mb-2",children:e.jsx("div",{className:"text-2xl",children:g[t.icon]})})})},t.key))})})]})},te=h=>{const{className:n,title:r,menu:x,routeKey:d,onCollapse:u,direction:l,userAuthority:o,navMode:m,...i}=h,a=()=>{u()};return e.jsxs("div",{className:w("h-full",n),...i,children:[e.jsxs("div",{className:`${V} flex items-center justify-between gap-4 pl-6 pr-4`,children:[e.jsx("h5",{className:"font-bold",children:r}),e.jsx($,{shape:"circle",variant:"plain",size:"sm",icon:e.jsxs(e.Fragment,{children:[l===D&&e.jsx(O,{}),l===I&&e.jsx(P,{})]}),onClick:a})]}),e.jsx(K,{autoHide:!0,direction:l,children:e.jsx(Z,{routeKey:d,navigationTree:x,userAuthority:o,navMode:m})})]})},ae={width:B},ne=()=>{const{t:h}=F(),[n,r]=M.useState({}),[x,d]=M.useState([]),u=c(s=>s.theme.themeColor),l=c(s=>s.theme.primaryColorLevel),o=c(s=>s.theme.navMode),m=c(s=>s.theme.mode),i=c(s=>s.theme.direction),a=c(s=>s.base.common.currentRouteKey),f=c(s=>s.auth.user.authority),{larger:S}=W(),j=(s,y,R=!0)=>o===T&&R?`bg-${u}-${l} ${s}-${y}`:`${s}-${y}`,t=s=>{r(s)},N=()=>{r({}),d([])},p=s=>{d(s)},v=()=>{let s={};const y=`${-E}px`;return i===D&&(s={marginLeft:y}),i===I&&(s={marginRight:y}),s};return e.jsx(e.Fragment,{children:S.md&&e.jsxs("div",{className:"stacked-side-nav",children:[e.jsx(se,{className:`stacked-side-nav-mini ${j("stacked-side-nav-mini",o)}`,style:ae,routeKey:a,activeKeys:x,navMode:o,userAuthority:f,mode:m,direction:i,onChange:t,onSetActiveKey:p}),e.jsx("div",{className:`stacked-side-nav-secondary ${j("stacked-side-nav-secondary",m,!1)}`,style:{width:E,...A(n)?v():{}},children:!A(n)&&e.jsx(te,{title:h(n.translateKey,n.title),menu:n.menu,routeKey:a,navMode:C,direction:i,userAuthority:f,onCollapse:N})})]})})},re=()=>e.jsx(e.Fragment,{children:e.jsx(z,{})}),ie=()=>e.jsxs(e.Fragment,{children:[e.jsx(J,{}),e.jsx(q,{hoverable:!1})]}),he=()=>e.jsx("div",{className:"app-layout-stacked-side flex flex-auto flex-col",children:e.jsxs("div",{className:"flex flex-auto min-w-0",children:[e.jsx(ne,{}),e.jsxs("div",{className:"flex flex-col flex-auto min-h-screen min-w-0 relative w-full",children:[e.jsx(Y,{className:"shadow dark:shadow-2xl",headerStart:e.jsx(re,{}),headerEnd:e.jsx(ie,{})}),e.jsx("div",{className:"h-full flex flex-auto flex-col",children:e.jsx(ee,{})})]})]})});export{he as default};
